var Tipped={version:"3.1.3"};Tipped.Skins={"base":{afterUpdate:false,ajax:{cache:true,type:"get"},background:{color:"#f2f2f2",opacity:1},border:{size:1,color:"#000",opacity:1},closeButtonSkin:"default",containment:{selector:"viewport"},fadeIn:180,fadeOut:220,showDelay:75,hideDelay:25,radius:{size:5,position:"background"},hideAfter:false,hideOn:{element:"self",event:"mouseleave"},hideOthers:false,hook:"topleft",inline:false,offset:{x:0,y:0},onHide:false,onShow:false,shadow:{blur:2,color:"#000",offset:{x:0,y:0},opacity:0.12},showOn:"mousemove",spinner:true,stem:{height:9,width:18,offset:{x:9,y:9},spacing:2},target:"self"},"reset":{ajax:false,closeButton:false,hideOn:[{element:"self",event:"mouseleave"},{element:"tooltip",event:"mouseleave"}],hook:"topmiddle",stem:true},"dark":{background:{color:"#282828"},border:{color:"#9b9b9b",opacity:0.4,size:1},shadow:{opacity:0.02},spinner:{color:"#fff"}},"light":{background:{color:"#fff"},border:{color:"#646464",opacity:0.4,size:1},shadow:{opacity:0.04}},"gray":{background:{color:[{position:0,color:"#8f8f8f"},{position:1,color:"#808080"}]},border:{color:"#131313",size:1,opacity:0.6}},"tiny":{background:{color:"#161616"},border:{color:"#969696",opacity:0.35,size:1},fadeIn:0,fadeOut:0,radius:4,stem:{width:11,height:6,offset:{x:6,y:6}},shadow:false,spinner:{color:"#fff"}},"yellow":{background:"#ffffaa",border:{size:1,color:"#6d5208",opacity:0.4}},"red":{background:{color:[{position:0,color:"#e13c37"},{position:1,color:"#e13c37"}]},border:{size:1,color:"#150201",opacity:0.6},spinner:{color:"#fff"}},"green":{background:{color:[{position:0,color:"#4bb638"},{position:1,color:"#4aab3a"}]},border:{size:1,color:"#122703",opacity:0.6},spinner:{color:"#fff"}},"blue":{background:{color:[{position:0,color:"#4588c8"},{position:1,color:"#3d7cb9"}]},border:{color:"#020b17",opacity:0.6},spinner:{color:"#fff"}}};(function($){$.extend(Tipped.Skins,{black:$.extend(true,{},Tipped.Skins.dark,{radius:0}),white:$.extend(true,{},Tipped.Skins.light,{radius:0})})})(jQuery);Tipped.Skins.CloseButtons={"base":{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#1a1a1a"},{position:0.46,color:"#171717"},{position:0.53,color:"#121212"},{position:0.54,color:"#101010"},{position:1,color:"#000"}],opacity:1},x:{color:"#fafafa",opacity:1},border:{color:"#fff",opacity:1}},"hover":{background:{color:"#333",opacity:1},x:{color:"#e6e6e6",opacity:1},border:{color:"#fff",opacity:1}}},shadow:{blur:1,color:"#000",offset:{x:0,y:0},opacity:0.5}},"reset":{},"default":{},"light":{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#797979"},{position:0.48,color:"#717171"},{position:0.52,color:"#666"},{position:1,color:"#666"}],opacity:1},x:{color:"#fff",opacity:0.95},border:{color:"#676767",opacity:1}},"hover":{background:{color:[{position:0,color:"#868686"},{position:0.48,color:"#7f7f7f"},{position:0.52,color:"#757575"},{position:1,color:"#757575"}],opacity:1},x:{color:"#fff",opacity:1},border:{color:"#767676",opacity:1}}}}};(function(Z){function W(A,$){var _=[A,$];return _.left=A,_.top=$,_}function I($){!window.console||console[console.warn?"warn":"log"]($)}function E($){this.element=$}function T(A){var $={};for(var _ in A)$[_]=A[_]+"px";return $}function Q(_,$){return Math.sqrt(_*_+$*$)}function _($){return $*180/Math.PI}function A($){return $*Math.PI/180}function B($){return 1/Math.cos($)}function M($){if(!$)return;this.element=$,R.remove($);var _=this.getTooltip();this.options=Z.extend({},_.options),this._globalAlpha=1,this._cache={},this.uid=Z($).data("tipped-uid"),R.add(this),this._hookPosition=this.options.hook.tooltip,this._stemPosition=this.options.stem&&this._hookPosition,this._stemCorrection={x:0,y:0},this._adjustment={top:0,left:0},this.build()}function J($,_){this.element=$;if(!this.element||!_)return;this.options=Z.extend({blur:3,offset:{x:0,y:0},color:"#000",opacity:0.5,globalAlpha:1},arguments[2]||{}),this._globalAlpha=this.options.globalAlpha,this._cache={},this.uid=Z($).data("tipped-uid"),Y.add(this),this.build()}function U($){this.element=$;if(!this.element)return;this.options=Z.extend({blur:5,offset:{x:0,y:0},color:"#000",opacity:0.5,globalAlpha:1},arguments[1]||{}),this._globalAlpha=this.options.globalAlpha,this.uid=Z($).data("tipped-uid"),X.add(this),this.build()}function H(_,A){for(var $ in A)A[$]&&A[$].constructor&&A[$].constructor===Object?(_[$]=Z.extend({},_[$])||{},H(_[$],A[$])):_[$]=A[$];return _}function $(C,D){this.element=C;if(!this.element)return;var _=Z(C).data("tipped-uid");_&&O.remove(C),_=F(),Z(C).data("tipped-uid",_),this.uid=_;var E;Z.type(D)=="object"&&!N.isElement(D)?(E=D,D=null):E=arguments[2]||{},this.options=O.createOptions(E);var $=C.getAttribute("title");if(!D){var A=C.getAttribute("data-tipped");A?D=A:$&&(D=$)}$&&(Z(C).data("tipped_restore_title",$),C.setAttribute("title","")),this.content=D,this.zIndex=this.options.zIndex||+O.options.startingZIndex,this._cache={contentDimensions:{width:1,height:1},events:[],timers:[],states:{active:!1,xhr:!1,visible:!1,updated:!1,build:!1,skinned:!1,toggles:!1,preloading_images:!1},fnCallContent:""};var B=this.options.target;this.target=B=="mouse"?"mouse":B=="self"||!B?this.element:B&&document.getElementById(B)||this.element,this._preBuild(),O.add(this)}var G=Array.prototype.slice,N={wrap:function(A,_){var $=A;return function(){var A=[Z.proxy($,this)].concat(G.call(arguments));return _.apply(this,A)}},isElement:function($){return $&&$.nodeType==1},delay:function(A,_){var $=G.call(arguments,2);return setTimeout(function(){return A.apply(A,$)},_)},defer:function($){return N.delay.apply(this,[$,1].concat(G.call(arguments,1)))},pointer:function($){return{x:$.pageX,y:$.pageY}},element:{cumulativeScrollOffset:function(A){var _=0,$=0;do _+=A.scrollTop||0,$+=A.scrollLeft||0,A=A.parentNode;while(A);return W($,_)},cumulativeOffset:function(A){var _=Z(A).offset(),B=N.element.cumulativeScrollOffset(A),$={top:Z(window).scrollTop(),left:Z(window).scrollLeft()};return _.left+=B.left-$.left,_.top+=B.top-$.top,W(_.left,_.top)},isAttached:function(){function $(_){var $=_;while($&&$.parentNode)$=$.parentNode;return $}return function(_){var A=$(_);return!!A&&!!A.body}}()}},D=function(_){function $($){var A=(new RegExp($+"([\\d.]+)")).exec(_);return A?parseFloat(A[1]):!0}return{IE:!!window.attachEvent&&_.indexOf("Opera")===-1&&$("MSIE "),Opera:_.indexOf("Opera")>-1&&(!!window.opera&&opera.version&&parseFloat(opera.version())||7.55),WebKit:_.indexOf("AppleWebKit/")>-1&&$("AppleWebKit/"),Gecko:_.indexOf("Gecko")>-1&&_.indexOf("KHTML")===-1&&$("rv:"),MobileSafari:!!_.match(/Apple.*Mobile.*Safari/),Chrome:_.indexOf("Chrome")>-1&&$("Chrome/")}}(navigator.userAgent),L={scripts:{jQuery:{required:"1.4.4",available:window.jQuery&&jQuery.fn.jquery}},check:function(){function $(C){var D=C.match(_),B=D&&D[1]&&D[1].split(".")||[],A=0;for(var E=0,$=B.length;E<$;E++)A+=parseInt(B[E]*Math.pow(10,6-E*2));return D&&D[3]?A-1:A}var _=/^(\d+(\.?\d+){0,3})([A-Za-z_-]+[A-Za-z0-9]+)?/;return function(_){if(this.scripts[_].checked)return;this.scripts[_].checked=!0;if(!this.scripts[_].available||$(this.scripts[_].available)<$(this.scripts[_].required)&&!this.scripts[_].notified)this.scripts[_].notified=!0,I("Tipped requires "+_+" >= "+this.scripts[_].required)}}()},F=function(){var _=0,$="_t_uid_";return function(A){A=A||$,_++;while(document.getElementById(A+_))_++;return A+_}}();Z.extend(Tipped,function(){return{support:{canvas:function(){var $=document.createElement("canvas");return!!$.getContext&&!!$.getContext("2d")}(),touch:function(){try{return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}catch($){return!1}}(),cssTransitions:function(){var $=["WebKitTransitionEvent","TransitionEvent","OTransitionEvent"],_=!1;return Z.each($,function(B,A){try{document.createEvent(A),_=!0}catch($){}}),_}()},init:function(){if(!this.support.canvas&&!D.IE)return;L.check("jQuery"),Z(document).ready(function(){O.startDelegating()})},create:function(A,$,_){return E.create(A,$,_),this.get(A)},get:function($){return new E($)},findElement:function($){return O.findElement($)},show:function($){return this.get($).show(),this},hide:function($){return this.get($).hide(),this},toggle:function($){return this.get($).toggle(),this},refresh:function($){return this.get($).refresh(),this},remove:function($){return this.get($).remove(),this},hideAll:function(){return O.hideAll(),this},setDefaultSkin:function($){return O.setDefaultSkin($),this},setStartingZIndex:function($){return O.setStartingZIndex($),this},visible:function(_){if(N.isElement(_))return O.isVisibleByElement(_);if(Z.type(_)!="undefined"){var A=Z(_),$=0;return Z.each(A,function(A,_){O.isVisibleByElement(_)&&$++}),$}return O.getVisible().length}}}()),Z.extend(E,{create:function(A,B){if(!A)return;var _=arguments[2]||{},C=[];return O.removeDetached(),N.isElement(A)?C.push(new $(A,B,_)):Z(A).each(function(D,A){C.push(new $(A,B,_))}),C}}),Z.extend(E.prototype,{items:function(){return O.Position.mouseBuffer={x:0,y:0},O.get(this.element)},show:function(){return Z.each(this.items(),function(_,$){$.show()}),this},hide:function(){return Z.each(this.items(),function(_,$){$.hide()}),this},toggle:function(){return Z.each(this.items(),function(_,$){$.toggle()}),this},refresh:function(){return Z.each(this.items(),function(_,$){$.refresh()}),this},remove:function(){return O.remove(this.element),this}});var K={viewport:function(){var $;return D.MobileSafari?$={width:window.innerWidth,height:window.innerHeight}:$={height:Z(window).height(),width:Z(window).width()},$}},C={devicePixelRatio:Math.ceil(Math.min(window.devicePixelRatio?parseFloat(window.devicePixelRatio)||1:1,2)),init:function(){function $(_){var $=_.getContext("2d");$.scale(C.devicePixelRatio,C.devicePixelRatio)}return window.G_vmlCanvasManager&&!Tipped.support.canvas&&D.IE?function(_){G_vmlCanvasManager.initElement(_),$(_)}:function(_){$(_)}}(),resize:function($,_){Z($).attr({width:_.width*this.devicePixelRatio,height:_.height*this.devicePixelRatio}).css(T(_))},drawRoundedRectangle:function(E){var F=Z.extend({top:0,left:0,width:0,height:0,radius:0},arguments[1]||{}),C=F,_=C.left,G=C.top,$=C.width,D=C.height,B=C.radius;if(!B){E.fillRect(_,G,$,D);return}E.beginPath(),E.moveTo(_+B,G),E.arc(_+$-B,G+B,B,A(-90),A(0),!1),E.arc(_+$-B,G+D-B,B,A(0),A(90),!1),E.arc(_+B,G+D-B,B,A(90),A(180),!1),E.arc(_+B,G+B,B,A(-180),A(-90),!1),E.closePath(),E.fill()},drawPixelArray:function(D,E){return;var B=Z.extend({x:0,y:0,color:"#000"},arguments[2]||{});for(var _=0,F=E.length;_<F;_++)for(var $=0,C=E[_].length;$<C;$++){var A=parseInt(E[_].charAt($))*(1/9);D.fillStyle=V.hex2fill(B.color,A),A&&D.fillRect(B.x+$,B.y+_,1,1)}},createFillStyle:function(A,B){var _;if(Z.type(B)=="string")_=V.hex2fill(B);else if(Z.type(B.color)=="string")_=V.hex2fill(B.color,Z.type(B.opacity)=="number"?B.opacity:1);else if(Z.isArray(B.color)){var $=Z.extend({x1:0,y1:0,x2:0,y2:0},arguments[2]||{});_=C.Gradient.addColorStops(A.createLinearGradient($.x1,$.y1,$.x2,$.y2),B.color,B.opacity)}return _}};C.Gradient={addColorStops:function(B,C){var A=Z.type(arguments[2])=="number"?arguments[2]:1;for(var _=0,D=C.length;_<D;_++){var $=C[_];if(Z.type($.opacity)=="undefined"||Z.type($.opacity)!="number")$.opacity=1;B.addColorStop($.position,V.hex2fill($.color,$.opacity*A))}return B}};var S={positions:["topleft","topmiddle","topright","righttop","rightmiddle","rightbottom","bottomright","bottommiddle","bottomleft","leftbottom","leftmiddle","lefttop"],regex:{toOrientation:/^(top|left|bottom|right)(top|left|bottom|right|middle|center)$/,horizontal:/^(top|bottom)/,isCenter:/(middle|center)/,side:/^(top|bottom|left|right)/},toDimension:function(){var $={top:"height",left:"width",bottom:"height",right:"width"};return function(_){return $[_]}}(),isCenter:function($){return!!$.toLowerCase().match(this.regex.isCenter)},isCorner:function($){return!this.isCenter($)},getOrientation:function($){return $.toLowerCase().match(this.regex.horizontal)?"horizontal":"vertical"},getSide:function(A){var $=null,_=A.toLowerCase().match(this.regex.side);return _&&_[1]&&($=_[1]),$},split:function($){return $.toLowerCase().match(this.regex.toOrientation)}},P={getDimensions:function(_){var $=_.options.stem;return{width:$.width,height:$.height}},getBorderDimensions:function(C,D){var A=Z.extend({math:"ceil"},arguments[2]||{}),_=C.options.stem,E=_.width,$=_.height,B=this.getCenterBorderDimensions(E,$,D);return A.math&&(B.width=Math[A.math](B.width),B.height=Math[A.math](B.height)),{width:B.width,height:B.height}},getCenterBorderDimensions:function(H,E,F){var C=_(Math.atan(E/H*0.5)),B=180-C,G=Math.cos(A(B-90))*F,$=H+G*2,D=$*E/H;return{width:$,height:D}},getLayout:function(F,C){var D=this.getBorderDimensions(F,C),A=this.getDimensions(F),_=S.isCenter(F._hookPosition),E=Math.ceil(D.height+C),$=F.options.stem.offset||0,B=F.options.radius&&F.options.radius.size||0;return{box:{dimensions:{width:Math.ceil(D.width),height:Math.ceil(E)}},border:{dimensions:D},stem:{dimensions:{width:A.width,height:A.height}}}},getBubbleLayout:function(G,W,N){var D={},I=G.options,K={top:0,left:0},F={top:0,left:0},E=Z.extend({},W),T=G.border,Q=Q||this.getLayout(G,G.border),A=Q.box.dimensions;N&&(A.height=N,T=0);var _=S.split(G._hookPosition),B=S.getOrientation(G._hookPosition);if(G.options.stem){var J=S.getSide(G._hookPosition);J=="top"?K.top=A.height-T:J=="left"&&(K.left=A.height-T);if(B=="horizontal"){switch(_[2]){case"middle":case"center":F.left=0.5*E.width;break;case"right":F.left=E.width}_[1]=="bottom"&&(F.top=E.height-T+A.height)}else{switch(_[2]){case"middle":case"center":F.top=0.5*E.height;break;case"bottom":F.top=E.height}_[1]=="right"&&(F.left=E.width-T+A.height)}E[S.toDimension(J)]+=A.height-T}else if(B=="horizontal"){switch(_[2]){case"middle":case"center":F.left=0.5*E.width;break;case"right":F.left=E.width}_[1]=="bottom"&&(F.top=E.height)}else{switch(_[2]){case"middle":case"center":F.top=0.5*E.height;break;case"bottom":F.top=E.height}_[1]=="right"&&(F.left=E.width)}var C=I.radius&&I.radius.size||0,U=I.border&&I.border.size||0;if(G.options.stem){var R=C&&I.radius.position=="background"?C:0,M=C&&I.radius.position=="border"?C:C+U,Y=U+R+0.5*Q.stem.dimensions.width-0.5*Q.border.dimensions.width,L=M>Y?M-Y:0,X=Math.ceil(U+R+0.5*Q.stem.dimensions.width+L);if(B=="horizontal")switch(_[2]){case"left":F.left+=X;break;case"right":F.left-=X}else switch(_[2]){case"top":F.top+=X;break;case"bottom":F.top-=X}}var V;if(I.stem&&(V=I.stem.offset)){var H=P.nullifyCornerOffset(V,G._stemPosition,W,Q.border.dimensions,U,C);V=H.offset;var O=H.correction;if(B=="horizontal")switch(_[2]){case"left":F.left+=V.x;break;case"right":F.left-=V.x}else switch(_[2]){case"top":F.top+=V.y;break;case"bottom":F.top-=V.y}}var $;if(I.stem&&($=I.stem.spacing))if(B=="horizontal")switch(_[1]){case"top":F.top-=$;break;case"bottom":F.top+=$}else switch(_[1]){case"left":F.left-=$;break;case"right":F.left+=$}return{dimensions:E,position:{top:0,left:0},background:{position:K,dimensions:W},stem:{dimensions:A},anchor:F}},nullifyCornerOffset:function(E,F,B,_,G,$){var D=S.getOrientation(F),A=Z.extend({},E),C={x:0,y:0};return D=="horizontal"&&B.width-_.width-2*G-2*$<2*E.x&&(C.x=A.x,A.x=0),D=="vertical"&&B.height-_.height-2*G-2*$<2*E.y&&(C.y=A.y,A.y=0),{offset:A,correction:C}}},V=function(){function B(_){var $=_;return $.red=_[0],$.green=_[1],$.blue=_[2],$}function _($){return parseInt($,16)}function H(C){var $=new Array(3);C.indexOf("#")==0&&(C=C.substring(1)),C=C.toLowerCase();if(C.replace(F,"")!="")return null;C.length==3?($[0]=C.charAt(0)+C.charAt(0),$[1]=C.charAt(1)+C.charAt(1),$[2]=C.charAt(2)+C.charAt(2)):($[0]=C.substring(0,2),$[1]=C.substring(2,4),$[2]=C.substring(4));for(var A=0;A<$.length;A++)$[A]=_($[A]);return B($)}function $(A,$){var _=H(A);return _[3]=$,_.opacity=$,_}function D(_,A){return Z.type(A)=="undefined"&&(A=1),"rgba("+$(_,A).join()+")"}function A($){return"#"+(C($)[2]>50?"000":"fff")}function C($){return G(H($))}function G(L){var L=B(L),G=L.red,I=L.green,_=L.blue,K,$,F,A=G>I?G:I;_>A&&(A=_);var E=G<I?G:I;_<E&&(E=_),F=A/255,$=A!=0?(A-E)/A:0;if($==0)K=0;else{var J=(A-G)/(A-E),D=(A-I)/(A-E),C=(A-_)/(A-E);G==A?K=C-D:I==A?K=2+J-C:K=4+D-J,K/=6,K<0&&(K+=1)}K=Math.round(K*360),$=Math.round($*100),F=Math.round(F*100);var H=[];return H[0]=K,H[1]=$,H[2]=F,H.hue=K,H.saturation=$,H.brightness=F,H}var E="0123456789abcdef",F=new RegExp("["+E+"]","g");return{hex2rgb:H,hex2fill:D,getSaturatedBW:A}}(),R={skins:{},get:function(_){if(!_)return null;var A=null,$=Z(_).data("tipped-uid");return $&&(A=this.skins[$]),A},add:function($){this.skins[$.uid]=$},remove:function(_){var $=this.get(_);$&&(delete this.skins[$.uid],$.remove())}};Z.extend(M.prototype,function(){function e(){this._cache.hook={};var $=this._hookPosition;Z.each(S.positions,Z.proxy(function(E,F){var B,_=this._cache.hook[F]={};this._hookPosition=F;var H=this.getOrderLayout();B=H,_.anchor=B.anchor;var $=B.bubble.dimensions,D={top:B.bubble.position.top,left:B.bubble.position.left};_.bubble={dimensions:$,position:D},_.tooltip={dimensions:B.skin.dimensions};if(this.shadow){var A=this.shadow.getOrderLayout(),C=A.skin.position,G=_.bubble.position;Z.extend(!0,_,{anchor:A.anchor,bubble:{position:{top:G.top+C.top,left:G.left+C.left}},tooltip:{dimensions:A.tooltip.dimensions}})}},this)),this._hookPosition=$}function g(){this.cleanup(),this.options.shadow&&(Y.remove(this.element),this.options.closeButton&&this.options.closeButton.shadow&&X.remove(this.element)),this.iframeShim&&(this.iframeShim.remove(),this.iframeShim=null),this.container&&(Z(this.container).remove(),this.container=null)}function H(){if(!this.bubble)return;this.closeButton&&(Z(this.closeButton).remove(),this.closeButton=null,this.defaultCloseButton=null,this.hoverCloseButton=null),Z(this.bubble).remove(),this.stem=null,this.background=null,this.bubble=null,this._cache={}}function h(){var A=this.getTooltip();this.contentDimensions=A._cache.contentDimensions;var $=A.options;this.radius=$.radius&&$.radius.size||0,this.border=$.border&&$.border.size||0,this.padding=$.padding;var _=Math.min(this.contentDimensions.height,this.contentDimensions.width);this.radius>_/2&&(this.radius=Math.floor(_/2)),this.options.radius.position=="border"&&this.radius>this.border&&(this.border=this.radius),this._cache={options:{radius:this.radius,border:this.border,padding:this.padding}}}function $(){this.cleanup(),window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document);var $=this.getTooltip(),_=this.options;this.bubble=Z("<div>").addClass("t_Bubble")[0],Z($.skinElement).append(this.bubble),this.prepare(),this.drawBubble($),_.closeButton&&(this.drawCloseButton($),_.closeButton.shadow&&(this.closeButtonShadow?(this.closeButtonShadow.options=_.closeButton.shadow,this.closeButtonShadow.build()):this.closeButtonShadow=new U(this.element,Z.extend({globalAlpha:this._globalAlpha},_.closeButton.shadow)))),D.IE&&D.IE<7&&Z($.container).prepend(this.iframeShim=Z("<iframe>").addClass("t_iframeShim").attr({frameBorder:0,src:"javascript:'';"})),this.order(),_.shadow&&(this.shadow?(this.shadow.options=_.shadow,this.shadow.build()):this.shadow=new J(this.element,this,Z.extend({globalAlpha:this._globalAlpha},_.shadow))),this.createHookCache()}function d(){var C=this.getTooltip(),D=Z(C.container),A=Z(C.container).find(".t_ContentContainer").first()[0];if(A){Z(A).css({width:"auto",height:"auto"});var _=parseInt(D.css("top")),E=parseInt(D.css("left")),$=parseInt(D.css("width"));D.css({left:"-25000px",top:"-25000px",width:"15000px",height:"auto"}),C.getState("visible")||Z(C.container).show();var B=O.UpdateQueue.getMeasureElementDimensions(A);C.options.maxWidth&&Z.type(C.options.maxWidth)=="number"&&B.width>C.options.maxWidth&&(Z(A).css({width:C.options.maxWidth+"px"}),B=O.UpdateQueue.getMeasureElementDimensions(A)),C.getState("visible")||Z(C.container).hide(),C._cache.contentDimensions=B,D.css({left:E+"px",top:_+"px",width:$+"px"}),this.build()}}function c(B,_,A){var $=!1;this.setHookPosition(B)&&($=!0),this.setStemCorrection(_)&&($=!0),A&&this.setAdjustment(A)&&($=!0),$&&this.build()}function Q(_){var $=!1;if(this._adjustment.left!=_.left||this._adjustment.top!=_.top)$=!0,this._adjustment=_;return $}function I(_){var $=!1;if(this._stemCorrection.x!=_.x||this._stemCorrection.y!=_.y)$=!0,this._stemCorrection=_;return $}function M(A,$){var _=!1;return this._hookPosition!=A&&(_=!0,this._hookPosition=A),_}function _(){return O.get(this.element)[0]}function R(){return P.getLayout(this,this.border)}function G(){var $=this.getTooltip().options.closeButton,_=$.diameter+$.border*2;Z(this.defaultCloseButton).css({left:-1*_+"px"}),Z(this.hoverCloseButton).css({left:0})}function f(){var $=this.getTooltip().options.closeButton,_=$.diameter+$.border*2;Z(this.defaultCloseButton).css({left:0}),Z(this.hoverCloseButton).css({left:_+"px"})}function F(_){var A=_.options.closeButton,$={width:A.diameter+2*A.border,height:A.diameter+2*A.border};Z(_.container).append(Z(this.closeButton=document.createElement("div")).addClass("t_Close").css(T($)).append(Z(this.closeButtonShift=document.createElement("div")).addClass("t_CloseButtonShift").css(T($)))),this.drawCloseButtonState(_,"default"),this.drawCloseButtonState(_,"hover"),!Tipped.support.touch&&!D.Chrome&&Z(this.closeButton).bind("mouseenter",Z.proxy(this.closeButtonMouseover,this)).bind("mouseleave",Z.proxy(this.closeButtonMouseout,this))}function W(N,O){var D=N.options.closeButton,J=D.diameter,P=D.border||0,$=D.x.diameter,M=D.x.size,L=D.x.lineCap,G=D.states[O||"default"],E={width:J+2*P,height:J+2*P};$>=J&&($=J-2);var F;Z(this.closeButtonShift).append(Z(this[O+"CloseButton"]=document.createElement("div")).addClass("t_CloseState").css(Z.extend(T(E),{left:(O=="hover"?E.width:0)+"px"}))),Z(document.body).append(Z(F=document.createElement("canvas"))),C.resize(F,E),C.init(F);var _=F.getContext("2d");_.globalAlpha=this._globalAlpha,Z(this[O+"CloseButton"]).append(F),_.translate(E.width/2,E.height/2),_.fillStyle=C.createFillStyle(_,G.background,{x1:0,y1:0-J/2,x2:0,y2:0+J/2}),_.beginPath(),_.arc(0,0,J/2,0,Math.PI*2,!0),_.closePath(),_.fill(),P&&(_.fillStyle=C.createFillStyle(_,G.border,{x1:0,y1:0-J/2-P,x2:0,y2:0+J/2+P}),_.beginPath(),_.arc(0,0,J/2,Math.PI,0,!1),_.lineTo((J+P)/2,0),_.arc(0,0,J/2+P,0,Math.PI,!0),_.arc(0,0,J/2+P,Math.PI,0,!0),_.lineTo(J/2,0),_.arc(0,0,J/2,0,Math.PI,!1),_.closePath(),_.fill());var K=$/2,H=M/2;if(H>K){var I=H;H=K,K=I}_.fillStyle=V.hex2fill(G.x.color||G.x,G.x.opacity||1),_.rotate(A(45)),_.beginPath(),_.moveTo(0,0),_.lineTo(0,K);for(var B=0;B<4;B++)_.lineTo(0,K),_.lineTo(H,K),_.lineTo(H,K-(K-H)),_.lineTo(K,H),_.lineTo(K,0),_.rotate(A(90));_.closePath(),_.fill()}function b(O){var U=Z.extend({stem:!1,hookPosition:null,stemCorrection:null,beginPath:!1,closePath:!1,layout:null,stemLayout:null,radius:0,border:0,borderRadius:0,cornerOffset:{x:0,y:0}},arguments[1]||{}),D=U.layout,K=U.stemLayout,W=U.cornerOffset,_=U.border,M=U.radius,L=U.hookPosition,N=D.background.position,H=D.background.dimensions,E,G,B,J,R,I={x:Math.abs(this._stemCorrection.x),y:Math.abs(this._stemCorrection.y)},C={x:0,y:0},X={x:0,y:0};if(K){E=K.stem.dimensions,G=K.box.position,B=K.box.dimensions,J=B.width-E.width;var $=U.borderRadius,V=_+M+0.5*E.width-0.5*K.border.dimensions.width;R=Math.ceil($>V?$-V:0);var Q=P.nullifyCornerOffset(W,L,H,K.border.dimensions,_,M);W=Q.offset,X=Q.correction,C={x:Math.max(H.width-Math.max(R,W.x||0)*2-K.border.dimensions.width-(2*M||0),0),y:Math.max(H.height-Math.max(R,W.y||0)*2-K.border.dimensions.height-(2*M||0),0)},S.isCenter(L)&&(C.x*=0.5,C.y*=0.5),I.x=Math.min(I.x,C.x),I.y=Math.min(I.y,C.y),S.isCenter(L)&&(this._stemCorrection.x<0&&I.x>0&&(I.x*=-1),this._stemCorrection.y<0&&I.y>0&&(I.y*=-1)),this._adjustment&&this._adjustment.sides&&Z.each(this._adjustment.sides,function($,_){Z.each("top right bottom left".split(" "),function(A,$){_==$&&(new RegExp("("+$+")$")).test(L)&&(I[/^(left|right)$/.test($)?"x":"y"]=0)})})}var T,F;M?(T=N.left+_+M,F=N.top+_):(T=N.left+_,F=N.top+_),W&&W.x&&/^(topleft|lefttop)$/.test(L)&&(T+=W.x),U.beginPath&&O.beginPath(),O.moveTo(T,F);if(U.stem)switch(L){case"topleft":T=N.left+_,M&&(T+=M),T+=Math.max(R,W.x||0),T+=I.x,O.lineTo(T,F),F-=E.height,T+=E.width*0.5,O.lineTo(T,F),F+=E.height,T+=E.width*0.5,O.lineTo(T,F);break;case"topmiddle":case"topcenter":T=N.left+H.width*0.5-E.width*0.5,T+=I.x,O.lineTo(T,F),F-=E.height,T+=E.width*0.5,O.lineTo(T,F),F+=E.height,T+=E.width*0.5,O.lineTo(T,F),T=N.left+H.width*0.5-B.width*0.5,O.lineTo(T,F);break;case"topright":T=N.left+H.width-_-E.width,M&&(T-=M),T-=Math.max(R,W.x||0),T-=I.x,O.lineTo(T,F),F-=E.height,T+=E.width*0.5,O.lineTo(T,F),F+=E.height,T+=E.width*0.5,O.lineTo(T,F)}M?M&&(O.arc(N.left+H.width-_-M,N.top+_+M,M,A(-90),A(0),!1),T=N.left+H.width-_,F=N.top+_+M):(T=N.left+H.width-_,F=N.top+_,O.lineTo(T,F));if(U.stem)switch(L){case"righttop":F=N.top+_,M&&(F+=M),F+=Math.max(R,W.y||0),F+=I.y,O.lineTo(T,F),T+=E.height,F+=E.width*0.5,O.lineTo(T,F),T-=E.height,F+=E.width*0.5,O.lineTo(T,F);break;case"rightmiddle":case"rightcenter":F=N.top+H.height*0.5-E.width*0.5,F+=I.y,O.lineTo(T,F),T+=E.height,F+=E.width*0.5,O.lineTo(T,F),T-=E.height,F+=E.width*0.5,O.lineTo(T,F);break;case"rightbottom":F=N.top+H.height-_,M&&(F-=M),F-=E.width,F-=Math.max(R,W.y||0),F-=I.y,O.lineTo(T,F),T+=E.height,F+=E.width*0.5,O.lineTo(T,F),T-=E.height,F+=E.width*0.5,O.lineTo(T,F)}M?M&&(O.arc(N.left+H.width-_-M,N.top+H.height-_-M,M,A(0),A(90),!1),T=N.left+H.width-_-M,F=N.top+H.height-_):(T=N.left+H.width-_,F=N.top+H.height-_,O.lineTo(T,F));if(U.stem)switch(L){case"bottomright":T=N.left+H.width-_,M&&(T-=M),T-=Math.max(R,W.x||0),T-=I.x,O.lineTo(T,F),T-=E.width*0.5,F+=E.height,O.lineTo(T,F),T-=E.width*0.5,F-=E.height,O.lineTo(T,F);break;case"bottommiddle":case"bottomcenter":T=N.left+H.width*0.5+E.width*0.5,T+=I.x,O.lineTo(T,F),T-=E.width*0.5,F+=E.height,O.lineTo(T,F),T-=E.width*0.5,F-=E.height,O.lineTo(T,F);break;case"bottomleft":T=N.left+_+E.width,M&&(T+=M),T+=Math.max(R,W.x||0),T+=I.x,O.lineTo(T,F),T-=E.width*0.5,F+=E.height,O.lineTo(T,F),T-=E.width*0.5,F-=E.height,O.lineTo(T,F)}M?M&&(O.arc(N.left+_+M,N.top+H.height-_-M,M,A(90),A(180),!1),T=N.left+_,F=N.top+H.height-_-M):(T=N.left+_,F=N.top+H.height-_,O.lineTo(T,F));if(U.stem)switch(L){case"leftbottom":F=N.top+H.height-_,M&&(F-=M),F-=Math.max(R,W.y||0),F-=I.y,O.lineTo(T,F),T-=E.height,F-=E.width*0.5,O.lineTo(T,F),T+=E.height,F-=E.width*0.5,O.lineTo(T,F);break;case"leftmiddle":case"leftcenter":F=N.top+H.height*0.5+E.width*0.5,F+=I.y,O.lineTo(T,F),T-=E.height,F-=E.width*0.5,O.lineTo(T,F),T+=E.height,F-=E.width*0.5,O.lineTo(T,F);break;case"lefttop":F=N.top+_+E.width,M&&(F+=M),F+=Math.max(R,W.y||0),F+=I.y,O.lineTo(T,F),T-=E.height,F-=E.width*0.5,O.lineTo(T,F),T+=E.height,F-=E.width*0.5,O.lineTo(T,F)}return M?M&&(O.arc(N.left+_+M,N.top+_+M,M,A(-180),A(-90),!1),T=N.left+_+M,F=N.top+_,T+=1,O.lineTo(T,F)):(T=N.left+_,F=N.top+_,O.lineTo(T,F)),U.closePath&&O.closePath(),{x:T,y:F,stem:I,corner:X,cornerOffset:W}}function E(F){var U=Z.extend({stem:!1,hookPosition:null,beginPath:!1,closePath:!1,layout:null,stemLayout:null,radius:0,border:0,stemOffset:0,cornerOffset:{x:0,y:0},corrections:null},arguments[1]||{}),M=U.layout,C=U.stemLayout,H=U.stemOffset,J=U.cornerOffset,E=U.border,D=U.radius&&U.radius.size||0,R=U.backgroundRadius,O=U.hookPosition,$=M.background.position,_=M.background.dimensions,I,B,Q,N,S,P,L=U.corrections&&U.corrections.stem||{x:0,y:0};if(C){I=C.stem.dimensions,B=C.box.position,Q=C.box.dimensions,N=C.border.dimensions,S=Q.width-I.width;var W=E+R+0.5*I.width-0.5*N.width;P=Math.ceil(D>W?D-W:0)}var K=$.left+E+R,V=$.top+E;R&&(K+=1);var T=Z.extend({},{x:K,y:V});U.beginPath&&F.beginPath();var G=Z.extend({},{x:K,y:V});V-=E,F.lineTo(K,V),D?D&&(F.arc($.left+D,$.top+D,D,A(-90),A(-180),!0),K=$.left,V=$.top+D):(K=$.left,V=$.top,F.lineTo(K,V));if(U.stem)switch(O){case"lefttop":V=$.top+E,R&&(V+=R),V-=N.width*0.5,V+=I.width*0.5,V+=Math.max(P,J.y||0),V+=L.y,F.lineTo(K,V),K-=N.height,V+=N.width*0.5,F.lineTo(K,V),K+=N.height,V+=N.width*0.5,F.lineTo(K,V);break;case"leftmiddle":case"leftcenter":V=$.top+_.height*0.5-N.width*0.5,V+=L.y,F.lineTo(K,V),K-=N.height,V+=N.width*0.5,F.lineTo(K,V),K+=N.height,V+=N.width*0.5,F.lineTo(K,V);break;case"leftbottom":V=$.top+_.height-E-N.width,R&&(V-=R),V+=N.width*0.5,V-=I.width*0.5,V-=Math.max(P,J.y||0),V-=L.y,F.lineTo(K,V),K-=N.height,V+=N.width*0.5,F.lineTo(K,V),K+=N.height,V+=N.width*0.5,F.lineTo(K,V)}D?D&&(F.arc($.left+D,$.top+_.height-D,D,A(-180),A(-270),!0),K=$.left+D,V=$.top+_.height):(K=$.left,V=$.top+_.height,F.lineTo(K,V));if(U.stem)switch(O){case"bottomleft":K=$.left+E,R&&(K+=R),K-=N.width*0.5,K+=I.width*0.5,K+=Math.max(P,J.x||0),K+=L.x,F.lineTo(K,V),V+=N.height,K+=N.width*0.5,F.lineTo(K,V),V-=N.height,K+=N.width*0.5,F.lineTo(K,V);break;case"bottommiddle":case"bottomcenter":K=$.left+_.width*0.5-N.width*0.5,K+=L.x,F.lineTo(K,V),V+=N.height,K+=N.width*0.5,F.lineTo(K,V),V-=N.height,K+=N.width*0.5,F.lineTo(K,V),K=$.left+_.width*0.5+N.width,F.lineTo(K,V);break;case"bottomright":K=$.left+_.width-E-N.width,R&&(K-=R),K+=N.width*0.5,K-=I.width*0.5,K-=Math.max(P,J.x||0),K-=L.x,F.lineTo(K,V),V+=N.height,K+=N.width*0.5,F.lineTo(K,V),V-=N.height,K+=N.width*0.5,F.lineTo(K,V)}D?D&&(F.arc($.left+_.width-D,$.top+_.height-D,D,A(90),A(0),!0),K=$.left+_.width,V=$.top+_.width+D):(K=$.left+_.width,V=$.top+_.height,F.lineTo(K,V));if(U.stem)switch(O){case"rightbottom":V=$.top+_.height-E,V+=N.width*0.5,V-=I.width*0.5,R&&(V-=R),V-=Math.max(P,J.y||0),V-=L.y,F.lineTo(K,V),K+=N.height,V-=N.width*0.5,F.lineTo(K,V),K-=N.height,V-=N.width*0.5,F.lineTo(K,V);break;case"rightmiddle":case"rightcenter":V=$.top+_.height*0.5+N.width*0.5,V+=L.y,F.lineTo(K,V),K+=N.height,V-=N.width*0.5,F.lineTo(K,V),K-=N.height,V-=N.width*0.5,F.lineTo(K,V);break;case"righttop":V=$.top+E,R&&(V+=R),V+=N.width,V-=N.width*0.5-I.width*0.5,V+=Math.max(P,J.y||0),V+=L.y,F.lineTo(K,V),K+=N.height,V-=N.width*0.5,F.lineTo(K,V),K-=N.height,V-=N.width*0.5,F.lineTo(K,V)}D?D&&(F.arc($.left+_.width-D,$.top+D,D,A(0),A(-90),!0),K=$.left+_.width-D,V=$.top):(K=$.left+_.width,V=$.top,F.lineTo(K,V));if(U.stem)switch(O){case"topright":K=$.left+_.width-E,K+=N.width*0.5-I.width*0.5,R&&(K-=R),K-=Math.max(P,J.x||0),K-=L.x,F.lineTo(K,V),V-=N.height,K-=N.width*0.5,F.lineTo(K,V),V+=N.height,K-=N.width*0.5,F.lineTo(K,V);break;case"topmiddle":case"topcenter":K=$.left+_.width*0.5+N.width*0.5,K+=L.x,F.lineTo(K,V),V-=N.height,K-=N.width*0.5,F.lineTo(K,V),V+=N.height,K-=N.width*0.5,F.lineTo(K,V),K=$.left+_.width*0.5-N.width,F.lineTo(K,V),F.lineTo(K,V);break;case"topleft":K=$.left+E+N.width,K-=N.width*0.5,K+=I.width*0.5,R&&(K+=R),K+=Math.max(P,J.x||0),K+=L.x,F.lineTo(K,V),V-=N.height,K-=N.width*0.5,F.lineTo(K,V),V+=N.height,K-=N.width*0.5,F.lineTo(K,V)}F.lineTo(G.x,G.y-E),F.lineTo(G.x,G.y),U.closePath&&F.closePath()}function a(P){var R=this.getOrderLayout(),D=this.options.stem&&this.getStemLayout(),K=this._hookPosition&&this._hookPosition.toLowerCase(),T=this.radius,_=T*2,N=this.border,M=this.padding,O={width:N*2+M*2+this.contentDimensions.width,height:N*2+M*2+this.contentDimensions.height},H=P.options.stem&&P.options.stem.offset||{x:0,y:0},E=0,F=0;T&&(E=this.options.radius.position=="background"?T:0,F=this.options.radius.position=="border"?T:E+N),Z(document.body).append(this.bubbleCanvas=document.createElement("canvas")),C.resize(this.bubbleCanvas,R.bubble.dimensions),C.init(this.bubbleCanvas);var G=this.bubbleCanvas.getContext("2d");G.globalAlpha=this._globalAlpha,Z(this.bubble).append(this.bubbleCanvas),G.fillStyle=C.createFillStyle(G,this.options.background,{x1:0,y1:R.background.position.top+N,x2:0,y2:R.background.position.top+R.background.dimensions.height-N}),G.lineWidth=0;var A;A=this._drawBackgroundPath(G,{beginPath:!0,closePath:!0,border:N,radius:E,borderRadius:F,layout:R,stemLayout:D,stem:this.options.stem,hookPosition:K,cornerOffset:H}),G.fill();var L=["6660066660666660066","60060600006060606006","60060666006060606006","60060600006060606006","6660066660606060066"],I=0,J=L.length;for(var B=0,U=L.length;B<U;B++)I=Math.max(I,L[B].length);var $={left:5,top:5},S=P.contentElement.firstChild;S&&(S=Z(S),$.left=parseInt(S.css("padding-left"))||0,$.top=parseInt(S.css("padding-top"))||0),C.drawPixelArray(G,L,{x:R.background.position.left+R.background.dimensions.width-N-($.left||0)-I,y:R.background.position.top+R.background.dimensions.height-N-($.top||0)-J,color:V.getSaturatedBW(Z.isArray(this.options.background.color)?this.options.background.color[this.options.background.color.length-1].color:this.options.background.color)});if(N){var Q=C.createFillStyle(G,this.options.border,{x1:0,y1:R.background.position.top,x2:0,y2:R.background.position.top+R.background.dimensions.height});G.fillStyle=Q,A=this._drawBackgroundPath(G,{beginPath:!0,closePath:!1,border:N,radius:E,borderRadius:F,layout:R,stemLayout:D,stem:this.options.stem,hookPosition:K,cornerOffset:H}),this._drawBorderPath(G,{beginPath:!1,closePath:!0,border:N,backgroundRadius:E,radius:{size:F,position:this.options.radius.position},layout:R,stemLayout:D,stem:this.options.stem,hookPosition:K,cornerOffset:A.cornerOffset,corrections:A}),G.fill()}this._corrections=A}function L(){var f=this.getTooltip(),K=this.contentDimensions,d=f.options,T=this.radius,G=T*2,M=this.border,O=this.padding,J={width:M*2+O*2+K.width,height:M*2+O*2+K.height-12},I;if(this.options.stem){var a=this.getStemLayout();I=a.box.dimensions}var V=P.getBubbleLayout(this,J),B=V.dimensions,D=V.position,J=V.background.dimensions,N=V.background.position,F=V.stem.dimensions,Z={top:0,left:0},b,X,S,g={width:B.width,height:B.height};if(d.closeButton){var Q=T;d.radius.position=="background"&&(Q+=M);var e=Q-Math.sin(A(45))*Q,c="right";this._hookPosition.toLowerCase().match(/^(topright|righttop)$/)&&(c="left");var L=d.closeButton.diameter+2*d.closeButton.border,b={width:L,height:L};Z.left=N.left-L/2+(c=="left"?e:J.width-e),Z.top=N.top-L/2+e;if(c=="left"){if(Z.left<0){var U=Math.abs(Z.left);g.width+=U,D.left+=U,Z.left=0}}else{var _=Z.left+L-g.width;_>0&&(g.width+=_)}if(Z.top<0){var W=Math.abs(Z.top);g.height+=W,D.top+=W,Z.top=0}if(this.options.closeButton.shadow){var H=this.options.closeButton.shadow,$=H.blur,Y=H.offset;X={width:b.width+2*$,height:b.height+2*$},S={top:Z.top-$+Y.y,left:Z.left-$+Y.x};if(c=="left"){if(S.left<0){U=Math.abs(S.left);g.width+=U,D.left+=U,Z.left+=U,S.left=0}}else{_=S.left+X.width-g.width;_>0&&(g.width+=_)}if(S.top<0){W=Math.abs(S.top);g.height+=W,D.top+=W,Z.top+=W,S.top=0}}}var C=V.anchor;C.top+=D.top,C.left+=D.left;var R={left:Math.ceil(D.left+N.left+this.border+this.options.padding),top:Math.ceil(D.top+N.top+this.border+this.options.padding)},E={tooltip:{dimensions:{width:Math.ceil(g.width),height:Math.ceil(g.height)}},skin:{dimensions:{width:Math.ceil(g.width),height:Math.ceil(g.height)}},bubble:{dimensions:B,position:{top:Math.round(D.top),left:Math.round(D.left)}},background:{dimensions:{width:Math.ceil(J.width),height:Math.ceil(J.height)},position:{top:Math.round(N.top),left:Math.round(N.left)}},anchor:{top:Math.round(C.top),left:Math.round(C.left)},content:{position:R}};return this.options.closeButton&&(E.closeButton={dimensions:{width:Math.ceil(b.width),height:Math.ceil(b.height)},position:{top:Math.round(Z.top),left:Math.round(Z.left)}},this.options.closeButton.shadow&&(E.closeButtonShadow={dimensions:{width:Math.ceil(X.width),height:Math.ceil(X.height)},position:{top:Math.round(S.top),left:Math.round(S.left)}})),E}function B(){var $=this.getOrderLayout(),_=this.getTooltip();Z(_.container).css(T($.tooltip.dimensions)),Z(_.skinElement).css(T($.skin.dimensions)),this.iframeShim&&this.iframeShim.css(T($.tooltip.dimensions)),Z(this.bubble).css(Z.extend(T($.bubble.dimensions),T($.bubble.position))),this.closeButton&&(Z(this.closeButton).css(T($.closeButton.position)),$.closeButtonShadow&&Z(this.closeButtonShadow.container).css(T($.closeButtonShadow.position))),Z(_.contentElement).css(T($.content.position))}function N($){this._globalAlpha=$||0,this.shadow&&(this.shadow._globalAlpha=this._globalAlpha)}function K($){this.setGlobalAlpha($),this.build()}return{prepare:h,createHookCache:e,build:$,remove:g,cleanup:H,getTooltip:_,refresh:d,setHookPositionAndStemCorrection:c,setAdjustment:Q,setStemCorrection:I,setHookPosition:M,drawCloseButton:F,drawCloseButtonState:W,drawBubble:a,_drawBackgroundPath:b,_drawBorderPath:E,closeButtonMouseover:G,closeButtonMouseout:f,getStemLayout:R,getOrderLayout:L,order:B,setGlobalAlpha:N,setOpacity:K}}());var Y={shadows:{},get:function(_){if(!_)return null;var A=null,$=Z(_).data("tipped-uid");return $&&(A=this.shadows[$]),A},add:function($){this.shadows[$.uid]=$},remove:function(_){var $=this.get(_);$&&(delete this.shadows[$.uid],$.remove())},transition:function($){return Math.PI/2-Math.pow($,Math.cos($)*Math.PI)}};Y.Stem={getBorderDimensions:function(C,A){var B=R.get(C.element),_=B.getStemLayout().border.dimensions,$=this.getCenterBorderDimensions(_.width,_.height,A,{math:!1});return{width:$.width,height:$.height}},getCenterBorderDimensions2:function(J,G,H){var E=J*0.5,C=_(Math.acos(E/Q(E,G))),I=180-C-90,$=B(A(I))*H,F=(E+$)*2,D=F/J*G;return{width:F,height:D}},getCenterBorderDimensions:function(H,E,F){var C=_(Math.atan(E/H*0.5)),B=180-C,G=Math.cos(A(B-90))*F,$=H+G*2,D=$*E/H;return{width:$,height:D}},getLayout:function(E){var F=R.get(E.element),B=E.options.blur,_=S.isCorner(F._hookPosition),H=S.getOrientation(F._hookPosition),$=Y.Stem.getBorderDimensions(E,B),D={box:{dimensions:{width:Math.ceil($.width),height:Math.ceil($.height)},position:{top:0,left:0}}};if(B){D.blurs=[];for(var A=0;A<=B;A++){var C=Y.Stem.getBorderDimensions(E,A,{math:!1}),G={position:{top:D.box.dimensions.height-C.height,left:_?B-A:(D.box.dimensions.width-C.width)/2},dimensions:C};D.blurs.push(G)}}else D.blurs=[Z.extend({},D.box)];return D},rotate:function(A,$,_){P.rotate(A,$.getSkin(),_)}},Z.extend(J.prototype,function(){function F(){return O.get(this.element)[0]}function G(){return R.get(this.element)}function B(){this.cleanup()}function _(){if(!this.container)return;Z(this.container).remove(),this.stem=null,this.background=null,this.bubble=null,this.container=null,this._cache={}}function I(){}function $(){this.cleanup(),this.prepare();var _=this.getTooltip(),A=this.getSkin();this.container=Z("<div>").addClass("t_Shadow")[0],Z(_.container).prepend(this.container),A.iframeShim&&Z(_.container).prepend(A.iframeShim);var $=A.getOrderLayout();Z(this.container).css({top:0,left:0}),this.drawBackground(),this.order()}function E(){return this.options.opacity/(this.options.blur+1)}function A(){var J=this.getSkin(),d=J.getOrderLayout(),Q=this.getTooltip(),F=this.getOrderLayout(),L=this.options.blur,N=Y.Stem.getLayout(this),I=J._hookPosition,G=S.getSide(I),W={top:L,left:L};if(Q.options.stem){var B=N.blurs[N.blurs.length-1];G=="left"&&(W.left+=Math.ceil(B.dimensions.height)),G=="top"&&(W.top+=Math.ceil(B.dimensions.height))}var A=J._cache.options,E=A.radius,M=A.border;Q.options.radius.position=="background"&&E&&(E+=M);var U=F.bubble.dimensions;Z(this.container).append(Z(this.bubble=document.createElement("div")).addClass("t_ShadowBubble").css(T(U))).css(T(U)),Z(document.body).append(Z(this.bubbleCanvas=document.createElement("canvas"))),C.resize(this.bubbleCanvas,F.bubble.dimensions),C.init(this.bubbleCanvas);var X=this.bubbleCanvas.getContext("2d");X.globalAlpha=this._globalAlpha,Z(this.bubble).append(this.bubbleCanvas);var P=L+1;for(var O=0;O<=L;O++)X.fillStyle=V.hex2fill(this.options.color,Y.transition(O*(1/P))*(this.options.opacity/P)),C.drawRoundedRectangle(X,{width:d.background.dimensions.width+O*2,height:d.background.dimensions.height+O*2,top:W.top-O,left:W.left-O,radius:E+O});if(!J.options.stem)return;var e={x:W.left,y:W.top},c=N.blurs[0].dimensions,K=J.options.stem,R=M;R+=K.width*0.5;var _=J.options.radius&&J.options.radius.position=="background"?J.options.radius.size||0:0;_&&(R+=_);var a=M+_+0.5*K.width-0.5*c.width,H=Math.ceil(E>a?E-a:0),$=J._corrections&&J._corrections.stem||{x:0,y:0},b=J._corrections&&J._corrections.corner||{x:0,y:0};R+=Math.max(H,J.options.stem.offset&&J.options.stem.offset[G&&/^(left|right)$/.test(G)?"y":"x"]||0);if(G=="top"||G=="bottom"){switch(I){case"topleft":case"bottomleft":e.x+=R+$.x-b.x;break;case"topmiddle":case"topcenter":case"bottommiddle":case"bottomcenter":e.x+=d.background.dimensions.width*0.5+$.x;break;case"topright":case"bottomright":e.x+=d.background.dimensions.width-R-$.x+b.x}G=="bottom"&&(e.y+=d.background.dimensions.height);for(var O=0,D=N.blurs.length;O<D;O++){X.fillStyle=V.hex2fill(this.options.color,Y.transition(O*(1/P))*(this.options.opacity/P));L=N.blurs[O];X.beginPath(),G=="top"?(X.moveTo(e.x,e.y-O),X.lineTo(e.x-L.dimensions.width*0.5,e.y-O),X.lineTo(e.x,e.y-O-L.dimensions.height),X.lineTo(e.x+L.dimensions.width*0.5,e.y-O)):(X.moveTo(e.x,e.y+O),X.lineTo(e.x-L.dimensions.width*0.5,e.y+O),X.lineTo(e.x,e.y+O+L.dimensions.height),X.lineTo(e.x+L.dimensions.width*0.5,e.y+O)),X.closePath(),X.fill()}}else{switch(I){case"lefttop":case"righttop":e.y+=R+$.y-b.y;break;case"leftmiddle":case"leftcenter":case"rightmiddle":case"rightcenter":e.y+=d.background.dimensions.height*0.5+$.y;break;case"leftbottom":case"rightbottom":e.y+=d.background.dimensions.height-R-$.y+b.y}G=="right"&&(e.x+=d.background.dimensions.width);for(O=0,D=N.blurs.length;O<D;O++){X.fillStyle=V.hex2fill(this.options.color,Y.transition(O*(1/P))*(this.options.opacity/P));L=N.blurs[O];X.beginPath(),G=="left"?(X.moveTo(e.x-O,e.y),X.lineTo(e.x-O,e.y-L.dimensions.width*0.5),X.lineTo(e.x-O-L.dimensions.height,e.y),X.lineTo(e.x-O,e.y+L.dimensions.width*0.5)):(X.moveTo(e.x+O,e.y),X.lineTo(e.x+O,e.y-L.dimensions.width*0.5),X.lineTo(e.x+O+L.dimensions.height,e.y),X.lineTo(e.x+O,e.y+L.dimensions.width*0.5)),X.closePath(),X.fill()}}}function H(){var H=this.getSkin(),a=H.contentDimensions,O=H.radius,D=H.getOrderLayout(),J=this.getTooltip(),L=this.options.blur,G=Z.extend({},D.background.dimensions);G.width+=2*L,G.height+=2*L;var F,V,R;if(H.options.stem){var A=Y.Stem.getLayout(this);F=A.box.dimensions,R=F.height}var _=P.getBubbleLayout(H,G,R),B=_.dimensions,K=_.position,G=_.background.dimensions,C=_.background.position,U=F,W=D.bubble.position,T=D.background.position,N={top:W.top+T.top-(C.top+L)+this.options.offset.y,left:W.left+T.left-(C.left+L)+this.options.offset.x},M=D.anchor,b=D.skin.dimensions,X={top:0,left:0};if(N.top<0){var I=Math.abs(N.top);X.top+=I,N.top=0,M.top+=I}if(N.left<0){var Q=Math.abs(N.left);X.left+=Q,N.left=0,M.left+=Q}var $={height:Math.max(B.height+N.top,b.height+X.top),width:Math.max(B.width+N.left,b.width+X.left)},S={left:Math.ceil(X.left+D.bubble.position.left+D.background.position.left+H.border+H.padding),top:Math.ceil(X.top+D.bubble.position.top+D.background.position.top+H.border+H.padding)},E={tooltip:{dimensions:$},skin:{dimensions:b,position:X},container:{dimensions:B,position:N},bubble:{dimensions:B,position:{top:Math.round(K.top),left:Math.round(K.left)}},background:{dimensions:{width:Math.ceil(G.width),height:Math.ceil(G.height)},position:{top:Math.round(C.top),left:Math.round(C.left)}},anchor:M,content:{position:S}};return E}function D(){var C=this.getOrderLayout(),D=this.getSkin(),A=this.getTooltip();Z(A.container).css(T(C.tooltip.dimensions)),Z(A.skinElement).css(Z.extend(T(C.skin.position),T(C.skin.dimensions))),D.iframeShim&&D.iframeShim.css(T(C.tooltip.dimensions));if(A.options.closeButton){var _=D.getOrderLayout(),E=C.skin.position,$=_.closeButton.position;Z(D.closeButton).css(T({top:E.top+$.top,left:E.left+$.left}));if(A.options.closeButton.shadow){var B=_.closeButtonShadow.position;Z(D.closeButtonShadow.container).css(T({top:E.top+B.top,left:E.left+B.left}))}}Z(this.container).css(Z.extend(T(C.container.dimensions),T(C.container.position))),Z(this.bubble).css(T(C.bubble.dimensions)),Z(A.contentElement).css(T(C.content.position))}return{prepare:I,remove:B,cleanup:_,build:$,getTooltip:F,getSkin:G,getOrderLayout:H,getBlurOpacity:E,drawBackground:A,order:D}}());var X={shadows:{},get:function($){if(!$)return null;var _=Z($).data("tipped-uid");return _?this.shadows[_]:null},add:function($){this.shadows[$.uid]=$},remove:function(_){var $=this.get(_);$&&(delete this.shadows[$.uid],$.remove())}};Z.extend(U.prototype,function(){function D(){return O.get(this.element)[0]}function E(){return R.get(this.element)}function B(){return this.options.opacity/(this.options.blur+1)}function _(){this.cleanup()}function F(){if(!this.container)return;Z(this.container).remove(),this.container=null}function $(){this.cleanup();var H=this.getTooltip(),I=this.getSkin(),D=I.getOrderLayout().closeButton.dimensions,_=Z.extend({},D),K=this.options.blur;_.width+=K*2,_.height+=K*2,Z(I.closeButton).before(Z(this.container=document.createElement("div")).addClass("t_CloseButtonShadow")),Z(document.body).append(Z(this.closeButtonCanvas=document.createElement("canvas"))),C.resize(this.closeButtonCanvas,_),C.init(this.closeButtonCanvas);var $=this.closeButtonCanvas.getContext("2d");$.globalAlpha=this._globalAlpha,Z(this.container).append(this.closeButtonCanvas);var G=_.width/2,B=_.height/2,F=D.height/2,J=K+1;for(var E=0;E<=K;E++)$.fillStyle=V.hex2fill(this.options.color,Y.transition(E*(1/J))*(this.options.opacity/J)),$.beginPath(),$.arc(G,B,F+E,A(0),A(360),!0),$.closePath(),$.fill()}return{build:$,remove:_,cleanup:F,getTooltip:D,getSkin:E,getBlurOpacity:B}}());var O={tooltips:{},options:{defaultSkin:"dark",startingZIndex:999999},startDelegating:function(){function $(){var $=["click"];Tipped.support.touch&&($.push("touchstart"),Z(document.body).bind("click",function(){return void 0})),Z.each($,function($,_){Z(document.documentElement).delegate(".t_Tooltip .t_Close, .t_Tooltip .close-tooltip",_,function($){$.preventDefault(),$.stopPropagation(),O.getByTooltipElement(Z($.target).closest(".t_Tooltip")[0]).hide()})}),Z(window).bind("resize",Z.proxy(this.onWindowResize,this))}return $}(),onWindowResize:function(){this._resizeTimer&&(window.clearTimeout(this._resizeTimer),this._resizeTimer=null),this._resizeTimer=N.delay(Z.proxy(function(){var $=this.getVisible();Z.each($,function(_,$){$.position()})},this),200)},_getTooltip:function(A){var B=Z(A).data("tipped-uid"),_;if(!B){var $=this.getByTooltipElement(Z(A).closest(".t_Tooltip")[0]);$&&$.element&&(B=Z($.element).data("tipped-uid"))}if(B&&(_=this.tooltips[B]))return _},findElement:function(_){var $;return N.isElement(_)&&($=this._getTooltip(_)),$&&$.element},get:function(_){var A=[];if(N.isElement(_)){var $=this._getTooltip(_);$&&(A=[$])}else Z.each(this.tooltips,function(B,$){$.element&&Z($.element).is(_)&&A.push($)});return A},getByTooltipElement:function($){if(!$)return null;var _=null;return Z.each(this.tooltips,function(B,A){A.getState("build")&&A.container===$&&(_=A)}),_},getBySelector:function($){var _=[];return Z.each(this.tooltips,function(B,A){A.element&&Z(A.element).is($)&&_.push(A)}),_},show:function(_){if(N.isElement(_)){var A=_,$=this.get(A)[0];$&&$.show()}else Z(_).each(Z.proxy(function(A,$){var _=this.get($)[0];_&&_.show()},this))},hide:function($){if(N.isElement($)){var _=this.get($)[0];_&&_.hide()}else Z($).each(Z.proxy(function(A,$){var _=this.get($)[0];_&&_.hide()},this))},toggle:function(_){if(N.isElement(_)){var A=_,$=this.get(A)[0];$&&$.toggle()}else Z(_).each(Z.proxy(function(A,$){var _=this.get($)[0];_&&_.toggle()},this))},hideAll:function(){Z.each(this.getVisible(),function(_,$){$.hide()})},refresh:function(_){if(N.isElement(_)){var A=_,$=this.get(A)[0];$&&$.refresh()}else Z(_).each(Z.proxy(function(A,$){var _=this.get($)[0];_&&_.refresh()},this))},getVisible:function(){var $=[];return Z.each(this.tooltips,function(A,_){_.visible()&&$.push(_)}),$},isVisibleByElement:function($){var _=!1;return N.isElement($)&&Z.each(this.getVisible()||[],function(B,A){if(A.element==$)return _=!0,!1}),_},getHighestTooltip:function(){var $=0,_;return Z.each(this.tooltips,function(B,A){A.zIndex>$&&($=A.zIndex,_=A)}),_},resetZ:function(){this.getVisible().length<=1&&Z.each(this.tooltips,function($,_){_.getState("build")&&!_.options.zIndex&&Z(_.container).css({zIndex:_.zIndex=+O.options.startingZIndex})})},add:function($){this.tooltips[$.uid]=$},_remove:function(_){var A=this._getTooltip(_);if(A){var $=Z(A.element).data("tipped-uid");delete this.tooltips[$],A.hide(),A.remove()}},remove:function($){N.isElement($)?this._remove($):Z($).each(Z.proxy(function(_,$){this._remove($)},this))},removeDetached:function(){Z.each(this.tooltips,Z.proxy(function(_,$){$.element&&!N.element.isAttached($.element)&&this._remove($.element)},this))},setDefaultSkin:function($){this.options.defaultSkin=$||"dark"},setStartingZIndex:function($){this.options.startingZIndex=$||0},createOptions:function(){function E(_){var $;return Z.type(_)=="string"?$={element:D.hideOn&&D.hideOn.element||C.hideOn.element,event:_}:$=H(Z.extend({},C.hideOn),_),$}function $(E){return C=Tipped.Skins.base,D=H(Z.extend({},C),Tipped.Skins.reset),A=Tipped.Skins.CloseButtons.base,_=H(Z.extend({},A),Tipped.Skins.CloseButtons.reset),$=B,B(E)}function B($){$.skin=$.skin&&Tipped.Skins[$.skin]?$.skin:Tipped.Skins[O.options.defaultSkin]?O.options.defaultSkin:"dark";var W=$.skin?Z.extend({},Tipped.Skins[$.skin]||Tipped.Skins[O.options.defaultSkin]):{},V=H(Z.extend({},D),W),X=H(Z.extend({},V),$);if(X.ajax){var N=D.ajax||{},K=C.ajax;Z.type(X.ajax)=="boolean"&&(X.ajax={cache:N.cache||K.cache,type:N.type||K.type}),X.ajax=H(Z.extend({},K),X.ajax)}X.background&&Z.type(X.background)=="string"&&(X.background={color:X.background,opacity:1});if(X.border){var L,M=D.border||{},B=C.border;Z.type(X.border)=="number"?L={size:X.border,color:M.color||B.color,opacity:M.opacity||B.opacity}:L=H(Z.extend({},B),X.border),X.border=L.size===0?!1:L}if(X.radius){var T;Z.type(X.radius)=="number"?T={size:X.radius,position:D.radius&&D.radius.position||C.radius.position}:T=H(Z.extend({},C.radius),X.radius),X.radius=T.size===0?!1:T}var P,a=a=X.hook&&X.hook.target||Z.type(X.hook)=="string"&&X.hook||D.hook&&D.hook.target||Z.type(D.hook)=="string"&&D.hook||C.hook&&C.hook.target||C.hook,R=X.hook&&X.hook.tooltip||D.hook&&D.hook.tooltip||C.hook&&C.hook.tooltip||O.Position.getInversedPosition(a);X.hook?Z.type(X.hook)=="string"?P={target:X.hook,tooltip:O.Position.getTooltipPositionFromTarget(X.hook)}:(P={tooltip:R,target:a},X.hook.tooltip&&(P.tooltip=X.hook.tooltip),X.hook.target&&(P.target=X.hook.target)):P={tooltip:R,target:a};if(X.target=="mouse"){var J=S.getOrientation(P.target);J=="horizontal"?P.target=P.target.replace(/(left|right)/,"middle"):P.target=P.target.replace(/(top|bottom)/,"middle")}X.hook=P;var c;X.target=="mouse"?(c=Z.extend({},C.offset),Z.extend(c,Tipped.Skins.reset.offset||{}),$.skin&&Z.extend(c,(Tipped.Skins[$.skin]||Tipped.Skins[O.options.defaultSkin]).offset||{}),c=O.Position.adjustOffsetBasedOnHooks(C.offset,C.hook,P.target,!0),$.offset&&(c=Z.extend(c,$.offset||{})),X.fadeOut=0):c={x:X.offset.x,y:X.offset.y},X.offset=c;if(X.closeButton&&X.closeButtonSkin){var F=Z.extend({},Tipped.Skins.CloseButtons[X.closeButtonSkin]),b=H(Z.extend({},_),F);if(b.states){var Y={};Z.each(["default","hover"],function(E,F){var G=b.states[F],$=_.states&&_.states[F];if(G.background){var D=$&&$.background;if(Z.type(G.background)=="number")G.background={color:D&&D.color||A.states[F].background.color,opacity:G.background};else if(Z.type(G.background)=="string"){var B=D&&Z.type(D.opacity)=="number"&&D.opacity||A.states[F].background.opacity;G.background={color:G.background,opacity:B}}else G.background=H(Z.extend({},A.states[F].background),G.background)}if(G.border){var C=$&&$.border;Z.type(G.border)=="number"?G.border={color:C&&C.color||A.states[F].border.color,opacity:G.border}:G.border=H(Z.extend({},A.states[F].border),G.border)}})}if(b.shadow){var I=_.shadow&&_.shadow.constructor&&_.shadow.constructor==Object?_.shadow:A.shadow;b.shadow.constructor&&b.shadow.constructor==Object&&(I=H(I,b.shadow)),b.shadow=I}X.closeButton=b}if(X.shadow){var Q;Z.type(X.shadow)=="boolean"?D.shadow&&Z.type(D.shadow)=="boolean"?Q=C.shadow:D.shadow?Q=D.shadow:Q=C.shadow:Q=H(Z.extend({},C.shadow),X.shadow||{}),Z.type(Q.offset)=="number"&&(Q.offset={x:Q.offset,y:Q.offset}),X.shadow=Q}if(X.stem){var U={};Z.type(X.stem)=="boolean"?U=H({},C.stem):U=H(H({},C.stem),Z.extend({},X.stem)),Z.type(U.offset)=="number"&&(U.offset={x:U.offset,y:U.offset}),X.stem=U}X.containment&&(Z.type(X.containment)=="string"?X.containment={selector:X.containment,flip:!0}:Z.type(X.containment)=="boolean"&&(X.containment=X.containment?{selector:"viewport",flip:!0}:!1)),X.hideOn&&X.hideOn=="click-outside"&&(X.hideOnClickOutside=!0,X.hideOn=!1);if(X.hideOn)if(Z.isArray(X.hideOn)){var G=[];Z.each(X.hideOn,function(_,$){G.push(E($))}),X.hideOn=G}else X.hideOn=[E(X.hideOn)];return X.showOn&&Z.type(X.showOn)=="string"&&(X.showOn=[""+X.showOn]),X.padding=0,X.spinner&&(window.Spinners||(X.spinner=!1)),X}var C,D,A,_;return $}()};O.Position=function(){function T(C){var A=S.split(C),_=A[1],D=A[2],$=S.getOrientation(C),B=Z.extend({horizontal:!0,vertical:!0},arguments[1]||{});return $=="horizontal"?(B.vertical&&(_=M[_]),B.horizontal&&(D=M[D])):(B.vertical&&(D=M[D]),B.horizontal&&(_=M[_])),_+D}function V(_){var $=S.split(_);return T($[1]+M[$[2]])}function _(B,_,A,$){return Math.sqrt(Math.pow(Math.abs(A-B),2)+Math.pow(Math.abs($-_),2))}function J($,_){Z($.container).css({top:_.top+"px",left:_.left+"px"})}function L(N,I,D,A,L){var _=O(N,I,D,A),H=D&&typeof D.type=="string"?D.type:"",C=/move$/.test(H),G=[];if(_.contained.overlap===1)return B(N,_),_;var E=I,J=A,$={horizontal:!_.contained.horizontal,vertical:!_.contained.vertical},M={horizontal:!1,vertical:!1},K=S.getOrientation(I);if((M.vertical=K=="horizontal"&&$.vertical)||(M.horizontal=K=="vertical"&&$.horizontal)){E=T(I,M),J=T(A,M),_=O(N,E,D,J);if(_.contained.overlap===1)return B(N,_),_}return _=F(_,N),B(N,_),_}function F(F,C){var D=Q(C),A=D.dimensions,_=D.position,E=R.get(C.element)._cache.hook[F.hook.tooltip].tooltip.dimensions,$=F.position,B={top:0,left:0,sides:[]};return _.left>$.left&&(B.left=_.left-$.left,B.sides.push("left"),F.position.left=_.left),_.top>$.top&&(B.top=$.top-_.top,B.sides.push("top"),F.position.top=_.top),_.left+A.width<$.left+E.width&&(B.left=_.left+A.width-($.left+E.width),B.sides.push("right"),F.position.left=_.left+A.width-E.width),_.top+A.height<$.top+E.height&&(B.top=_.top+A.height-($.top+E.height),B.sides.push("bottom"),F.position.top=_.top+A.height-E.height),F.adjustment=B,F}function B(_,$){_.setHookPositionAndStemCorrection($.hook.tooltip,$.contained.correction,$.adjustment),J(_,$.position)}function C($){return $&&(/^mouse|click|touch$/.test(typeof $.type=="string"&&$.type||"")||$.pageX>=0)}function E(A,$,_){return A>=$&&A<=_}function H(G,C,D,A){var _=E(G,D,A),F=E(C,D,A);if(_&&F)return C-G;if(_&&!F)return A-G;if(!_&&F)return C-D;var $=E(D,G,C),B=E(A,G,C);return $&&B?A-D:$&&!B?C-D:!$&&B?A-G:0}function G(_,$){return H(_.position.left,_.position.left+_.dimensions.width,$.position.left,$.position.left+$.dimensions.width)*H(_.position.top,_.position.top+_.dimensions.height,$.position.top,$.position.top+$.dimensions.height)}function P(A,$){var _=A.dimensions.width*A.dimensions.height;return _?G(A,$)/_:0}function A(C,A){var B=S.split(A),_=S.getOrientation(A),$={left:0,top:0};if(_=="horizontal"){switch(B[2]){case"middle":case"center":$.left=0.5*C.width;break;case"right":$.left=C.width}B[1]=="bottom"&&($.top=C.height)}else{switch(B[2]){case"middle":case"center":$.top=0.5*C.height;break;case"bottom":$.top=C.height}B[1]=="right"&&($.left=C.width)}return $}function $(_){var A=N.element.cumulativeOffset(_),$=N.element.cumulativeScrollOffset(_),B={top:Z(window).scrollTop(),left:Z(window).scrollLeft()};return A.left+=-1*($.left-B.left),A.top+=-1*($.top-B.top),A}function O(c,O,e,i){var b,V,t,o=R.get(c.element),E=o.options,G=E.offset,h=C(e);if(h||!e){t={width:24,height:24};if(h){var L=N.pointer(e);b={top:L.y-0.5*t.height+6,left:L.x-0.5*t.width+6}}else{var n=c._cache.event;b={top:(n?n.y:0)-0.5*t.height+6,left:(n?n.x:0)-0.5*t.width+6}}c._cache.event={x:b.left,y:b.top}}else b=$(e),t={width:Z(e).outerWidth(),height:Z(e).outerHeight()};if(E.stem&&E.target!="mouse"){var w=S.split(i),m=S.split(O),_=S.getOrientation(i),r=o._cache.options,W=o.getStemLayout().border.dimensions,B=r.radius,s=r.border,j=B&&E.radius.position=="background"?B:0,H=B&&E.radius.position=="border"?B:B+s,F=s+j+0.5*E.stem.width-0.5*W.width,p=H>F?H-F:0;sideOffset=Math.ceil(s+j+0.5*E.stem.width+p+E.stem.offset[_=="horizontal"?"x":"y"]);if(_=="horizontal"&&w[2]=="left"&&m[2]=="left"||w[2]=="right"&&m[2]=="right")t.width-=sideOffset*2,b.left+=sideOffset;else if(_=="vertical"&&w[2]=="top"&&m[2]=="top"||w[2]=="bottom"&&m[2]=="bottom")t.height-=sideOffset*2,b.top+=sideOffset}V=Z.extend({},b);var d=h?T(E.hook.tooltip):E.hook.target,X=A(t,d),M=A(t,i),I={top:b.top+X.top+G.y,left:b.left+X.left+G.x};b={left:b.left+M.left,top:b.top+M.top};var l=Z.extend({},G);l=U(l,d,i,o.options.target=="mouse"),b.top+=l.y,b.left+=l.x;var o=R.get(c.element),a=o._cache.hook,g=Z.extend({},a[O]),D={top:b.top-g.anchor.top,left:b.left-g.anchor.left};g.tooltip.position=D;var f={horizontal:!0,vertical:!0},K={x:0,y:0};if(c.options.containment){var v=Q(c),k=c.options.shadow?Y.get(c.element):o,q=k.getOrderLayout().tooltip.dimensions;f.overlap=P({dimensions:q,position:D},v);if(f.overlap<1){if(D.left<v.position.left||D.left+q.width>v.position.left+v.dimensions.width)f.horizontal=!1,D.left<v.position.left?K.x=D.left-v.position.left:K.x=D.left+q.width-(v.position.left+v.dimensions.width);if(D.top<v.position.top||D.top+q.height>v.position.top+v.dimensions.height)f.vertical=!1,D.top<v.position.top?K.y=D.top-v.position.top:K.y=D.top+q.height-(v.position.top+v.dimensions.height)}}else f.overlap=1;f.correction=K;var J=a[O].bubble,u=P({dimensions:t,position:V},{dimensions:J.dimensions,position:{top:D.top+J.position.top,left:D.left+J.position.left}});return{position:D,overlap:{target:u},contained:f,hook:{tooltip:O,target:i}}}function Q(C){var D={top:Z(window).scrollTop(),left:Z(window).scrollLeft()},_=C.options,E=_.target;if(E=="mouse"||E=="self")E=C.element;var $=Z(E).closest(_.containment.selector).first()[0];if(!$||_.containment.selector=="viewport")return{dimensions:K.viewport(),position:D};var B=N.element.cumulativeOffset($),A=N.element.cumulativeScrollOffset($);return B.left+=-1*(A.left-D.left),B.top+=-1*(A.top-D.top),{dimensions:{width:Z($).innerWidth(),height:Z($).innerHeight()},position:B}}var M={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},I=D.IE&&D.IE<9||D.Gecko&&D.Gecko<2||D.WebKit&&D.WebKit<530,U=function(){var _=[[-1,-1],[0,-1],[1,-1],[-1,0],[0,0],[1,0],[-1,1],[0,1],[1,1]],$={lefttop:0,topleft:0,topmiddle:1,topcenter:1,topright:2,righttop:2,rightmiddle:5,rightcenter:5,rightbottom:8,bottomright:8,bottommiddle:7,bottomcenter:7,bottomleft:6,leftbottom:6,leftmiddle:3,leftcenter:3};return function(F,D,B,G){var A=_[$[D]],E=_[$[B]],C=[Math.floor(Math.abs(A[0]-E[0])*0.5)?-1:1,Math.floor(Math.abs(A[1]-E[1])*0.5)?-1:1];return!S.isCenter(D)&&S.isCenter(B)&&!G&&(S.getOrientation(B)=="horizontal"?C[0]=0:C[1]=0),{x:C[0]*F.x,y:C[1]*F.y}}}();return{get:O,set:L,getInversedPosition:T,getTooltipPositionFromTarget:V,getAbsoluteOffset:$,adjustOffsetBasedOnHooks:U,isPointerEvent:C}}(),O.Position.mouseBuffer={x:0,y:0},Z(document).ready(function(){var $=O.Position;Z(document).bind("mousemove",function(_){$.mouseBuffer={x:_.pageX,y:_.pageY}})}),O.UpdateQueue=function(){function A(){Z(document.body).append(Z(document.createElement("div")).addClass("t_UpdateQueue").append(Z(document.createElement("div")).addClass("t_Tooltip").append(Z(this.container=document.createElement("div")).addClass("t_Content"))))}function B($){return{width:Z($).innerWidth(),height:Z($).innerHeight()}}function _(A){var _=B(A),$=A.parentNode;return $&&Z($).css({width:_.width+"px"})&&B(A).height>_.height&&_.width++,Z($).css({width:"100%"}),_}function C(D,E,_){this.container||this.build();var G=D.options,$=Z.extend({spinner:!1},arguments[3]||{});(G.inline||N.isElement(E))&&!Z(E).data("isSpinner")&&(G.inline&&Z.type(E)=="string"&&(D.inlineContent=Z("#"+E)[0],E=D.inlineContent),!D.inlineMarker&&E&&N.element.isAttached(E)&&(Z(D.inlineContent).data("tipped_restore_inline_display",Z(D.inlineContent).css("display")),D.inlineMarker=document.createElement("div"),Z(D.inlineContent).before(Z(D.inlineMarker).hide())));var C=document.createElement("div");Z(this.container).append(Z(C).addClass("t_ContentContainer t_clearfix").append(E)),N.isElement(E)&&Z(E).show(),G.skin&&Z(C).addClass("t_Content_"+D.options.skin);var A=Z(C).find("img[src]").filter(function(){return!Z(this).attr("height")||!Z(this).attr("width")});if(A.length>0&&!D.getState("preloading_images")){D.setState("preloading_images",!0),G.spinner&&(!$.spinner&&!D.spinner&&(D.spinner=D.insertSpinner(G.spinner)),D.getState("visible")&&(D.position(),Z(D.container).show()),D.spinner.play());var B=0,F=Math.max(8000,(A.length||0)*750);D.clearTimer("preloading_images"),D.setTimer("preloading_images",Z.proxy(function(){A.each(function(){this.onload=function(){}});if(B>=A.length)return;this._updateTooltip(D,C),_&&_()},this),F),Z.each(A,Z.proxy(function(E,$){var F=new Image;F.onload=Z.proxy(function(){F.onload=function(){};var H=F.width,E=F.height,I=Z($).attr("width"),G=Z($).attr("height");if(!I||!G)!I&&G?(H=Math.round(G*H/E),E=G):!G&&I&&(E=Math.round(I*E/H),H=I),Z($).attr({width:H,height:E}),B++;B==A.length&&(D.clearTimer("preloading_images"),D.spinner&&(D.spinner.remove(),D.spinner=null),D.getState("visible")&&Z(D.container).hide(),this._updateTooltip(D,C),_&&_())},this),F.src=$.src},this))}else this._updateTooltip(D,C),_&&_()}function $(A,B){var $=_(B),C={width:$.width-(parseInt(Z(B).css("padding-left"))||0)-(parseInt(Z(B).css("padding-right"))||0),height:$.height-(parseInt(Z(B).css("padding-top"))||0)-(parseInt(Z(B).css("padding-bottom"))||0)};A.options.maxWidth&&Z.type(A.options.maxWidth)=="number"&&C.width>A.options.maxWidth&&(Z(B).css({width:A.options.maxWidth+"px"}),$=_(B)),A._cache.contentDimensions=$,Z(A.contentElement).html(B)}return _=N.wrap(_,function(A,$){var _=A($);return _.height+=13,_}),{build:A,update:C,_updateTooltip:$,getMeasureElementDimensions:_}}(),Z.extend($.prototype,function(){function Q(A,$,_){this._cache.timers[A]=N.delay($,_)}function j($){return this._cache.timers[$]}function I($){this._cache.timers[$]&&(window.clearTimeout(this._cache.timers[$]),delete this._cache.timers[$])}function V(){Z.each(this._cache.timers,function(_,$){window.clearTimeout($)}),this._cache.timers=[]}function X(A,B,_,$){B=B;var C=Z.proxy(_,$||this);this._cache.events.push({element:A,eventName:B,handler:C}),Z(A).bind(B,C)}function P(){Z.each(this._cache.events,function($,_){Z(_.element).unbind(_.eventName,_.handler)})}function J(_,$){this._cache.states[_]=$}function d($){return this._cache.states[$]}function B(){this.setEvent(this.element,"mouseenter",this.setActive),this.setEvent(this.element,"mouseleave",Z.proxy(function($){this.setIdle($)},this)),this.options.showOn&&Z.each(this.options.showOn,Z.proxy(function(_,A){var $=!1;A=="click"&&(this.options.hideOn&&Z.each(this.options.hideOn,function(A,_){if(_.element=="self"&&_.event=="click")return $=!0,!1}),this.setState("toggles",$)),this.setEvent(this.element,A,A=="click"?$?this.toggle:this.show:Z.proxy(function(){this.showDelayed()},this))},this)),this.options.hideOn?Z.each(this.options.hideOn,Z.proxy(function(_,A){var $;switch(A.element){case"self":if(this.getState("toggles")&&A.event=="click")return;$=this.element;break;case"target":$=this.target}if(!$)return;this.setEvent($,A.event,A.event=="click"?this.hide:Z.proxy(function(){this.hideDelayed()},this))},this)):this.options.showDelay&&this.options.showOn&&!Z.inArray("click",this.options.showOn)>-1&&this.setEvent(this.element,"mouseleave",Z.proxy(function(){this.clearTimer("show")},this));var $=!1;!this.options.fixed&&this.options.showOn&&(($=Z.inArray("mousemove",this.options.showOn)>-1)||Z.inArray("touchmove",this.options.showOn)>-1)&&this.target=="mouse"&&this.setEvent(this.element,$?"mousemove":"touchmove",function($){if(!this.getState("skinned"))return;this.position($)})}function A(){this.setEvent(this.container,"mouseenter",this.setActive),this.setEvent(this.container,"mouseleave",this.setIdle),this.setEvent(this.container,"mouseenter",Z.proxy(function(){this.getTimer("fadeTransition")||this.show()},this)),this.options.hideOn&&Z.each(this.options.hideOn,Z.proxy(function(_,A){var $;switch(A.element){case"tooltip":$=this.container}if(!$)return;this.setEvent($,A.event,A.event.match(/^(click|mousemove|mouseenter)$/)?this.hide:Z.proxy(function(){this.hideDelayed()},this))},this))}function D(B,_,A){var $=R.get(this.element);$&&$.setHookPositionAndStemCorrection(B,_,A)}function W(_){var $=R.get(this.element);$&&$.setHookPosition(_)}function G(){this.setHookPosition(this.options.hook.tooltip)}function g(){Z(this.container=document.createElement("div")).addClass("t_Tooltip"),this.createPreBuildObservers()}function c(){this.build();var $=R.get(this.element);$?$.build():(new M(this.element),this.setState("skinned",!0))}function h(){if(this.getState("build"))return;Z(document.body).append(Z(this.container).css({left:"-10000px",top:"-10000px",zIndex:this.zIndex}).append(Z(this.skinElement=document.createElement("div")).addClass("t_Skin")).append(Z(this.contentElement=document.createElement("div")).addClass("t_Content"))),Z(this.container).addClass("t_Tooltip_"+this.options.skin),this.options.hideOnClickOutside&&(Z(this.element).addClass("t_hideOnClickOutside"),this.setEvent(document.documentElement,"click",Z.proxy(function($){if(!this.visible())return;var _=Z($.target).closest(".t_Tooltip, .t_hideOnClickOutside")[0];(!_||_&&_!=this.container&&_!=this.element)&&this.hide()},this))),Tipped.support.cssTransitions&&(this.options.fadeIn||this.options.fadeOut)&&(this.setFadeDuration(this.options.fadeIn),Z(this.container).addClass("t_hidden")),this.createPostBuildObservers(),this.setState("build",!0),O.add(this)}function l(){var $=this.content,_;this.inlineMarker&&this.inlineContent&&((_=Z(this.inlineContent).data("tipped_restore_inline_display"))&&Z(this.inlineContent).css({display:_}),Z(this.inlineMarker).before(this.inlineContent).remove(),this.inlineMarker=null)}function Y(){N.defer(Z.proxy(function(){this.clearEvents()},this)),this.clearTimers(),this._restoreInlineContent(),N.defer(Z.proxy(function(){Z(this.container).find("img[src]").unbind("load")},this)),R.remove(this.element),this.getState("build")&&this.container&&(Z(this.container).remove(),this.container=null);var $="tipped_restore_title",_;(_=Z(this.element).data($))&&Z(this.element).attr("title",_).removeData("tipped_restore_title"),Z(this.element).removeData("tipped-uid")}function k($){var _=Z.extend({afterUpdate:this.options.afterUpdate,spinner:!1},arguments[1]||{});this.build(),this.getState("visible")&&Z(this.container).hide(),O.UpdateQueue.update(this,$,Z.proxy(function(){var $=this.getState("visible");$||this.setState("visible",!0),this._buildSkin(),$||this.setState("visible",!1),this.getState("visible")&&(Z(this.container).hide(),this.position(),this.raise(),Z(this.container).show()),this.setState("updated",!0),_.afterUpdate&&_.afterUpdate(this.contentElement.firstChild,this.element),_.callback&&_.callback()},this),{spinner:_.spinner})}function i($){if(this.getState("xhr")||this.options.ajax.cache&&this.getState("updated"))return;this.setState("xhr",!0),this.options.spinner&&(this.spinner?this.spinner.play():(this.spinner=this.insertSpinner(this.options.spinner),this.setState("updated",!1)),this.position($)),this._cache.xhr&&(this._cache.xhr.abort(),this._cache.xhr=null),this._cache.xhr=Z.ajax({url:this.content,type:this.options.ajax.type,data:this.options.ajax.data||{},dataType:this.options.ajax.dataType||"html",success:Z.proxy(function(_,A,$){if($.status===0)return;this.update($.responseText,{spinner:this.options.spinner&&this.spinner,callback:Z.proxy(function(){this.setState("xhr",!1),this.getState("visible")&&this.options.onShow&&this.options.onShow(this.contentElement.firstChild,this.element),this.spinner&&(this.spinner.remove(),this.spinner=null)},this)})},this)})}function U(){var _=document.createElement("div");Z(_).data("isSpinner",!0);var A=Spinners.create(_,Z.extend({},arguments[0]||{})),$=Spinners.getDimensions(_);return Z(_).css(T($)),this.update(_,{afterUpdate:!1,callback:function(){A.play()}}),A}function e(){if(!this.getState("build")||this.options.zIndex)return;var $=O.getHighestTooltip();$&&$!=this&&this.zIndex<=$.zIndex&&Z(this.container).css({zIndex:this.zIndex=$.zIndex+1})}function K(){var $=R.get(this.element);$&&($.refresh(),this.visible()&&this.position())}function $(_){if(!Tipped.support.cssTransitions)return;_=_||0;var $=this.container.style;$.MozTransitionDuration=_+"ms",$.webkitTransitionDuration=_+"ms",$.OTransitionDuration=_+"ms",$.transitionDuration=_+"ms"}function f($){this.clearTimer("hide"),this.clearTimer("fadeTransition");if(this.getState("visible")||this.getTimer("show"))return;this.setTimer("show",Z.proxy(function(){this.clearTimer("show"),this.show($)},this),this.options.showDelay||1)}function a($){this.clearTimer("hide"),this.clearTimer("fadeTransition");if(this.visible())return;if(Z.type(this.content)=="function"||Z.type(this._cache.contentFunction)=="function"){Z.type(this._cache.contentFunction)!="function"&&(this._cache.contentFunction=this.content);var _=this._cache.contentFunction(this.element)||!1;_!=this._cache.fnCallContent&&(this._cache.fnCallContent=_,this.setState("updated",!1),this._restoreInlineContent()),this.content=_;if(!_)return}this.options.hideOthers&&O.hideAll(),this.setState("visible",!0),this.options.ajax?this.ajaxUpdate($):this.getState("updated")||this.update(this.content),this.getState("skinned")&&this.position($),this.raise(),this.options.hideAfter&&N.defer(Z.proxy(function(){this.setActive()},this)),Z.type(this.options.onShow)=="function"&&(!this.options.ajax||this.options.ajax&&this.options.ajax.cache&&this.getState("updated"))&&this.options.onShow(this.contentElement.firstChild,this.element),Tipped.support.cssTransitions&&(this.options.fadeIn||this.options.fadeOut)&&(this.setFadeDuration(this.options.fadeIn),Z(this.container).addClass("t_visible").removeClass("t_hidden")),Z(this.container).show()}function E(){this.clearTimer("show");if(!this.getState("visible"))return;this.setState("visible",!1),Tipped.support.cssTransitions&&(this.options.fadeIn||this.options.fadeOut)?(this.setFadeDuration(this.options.fadeOut),Z(this.container).removeClass("t_visible").addClass("t_hidden"),this.setTimer("fadeTransition",Z.proxy(this._hide,this),this.options.fadeOut)):this._hide(),this._cache.xhr&&(this._cache.xhr.abort(),this._cache.xhr=null,this.setState("xhr",!1))}function C(){if(!this.getState("build"))return;Z(this.container).css({left:"-10000px",top:"-10000px"}),O.resetZ(),Z.type(this.options.onHide)=="function"&&!this.spinner&&this.options.onHide(this.contentElement.firstChild,this.element)}function b(){this.clearTimer("show");if(this.getTimer("hide")||!this.getState("visible"))return;this.setTimer("hide",Z.proxy(function(){this.clearTimer("hide"),this.clearTimer("fadeTransition"),this.hide()},this),this.options.hideDelay||1)}function S($){this[this.visible()?"hide":"show"]($)}function L(){return this.getState("visible")}function H(){this.setState("active",!0),this.getState("visible")&&this.raise(),this.options.hideAfter&&this.clearTimer("idle")}function F(){this.setState("active",!1),this.options.hideAfter&&this.setTimer("idle",Z.proxy(function(){this.clearTimer("idle"),this.getState("active")||this.hide()},this),this.options.hideAfter)}var _=function(C){if(!this.visible())return;var D;if(this.options.target=="mouse"){var _=O.Position.isPointerEvent(C),E=O.Position.mouseBuffer;if(!_){if(E.x||E.y)this._cache.event={x:E.x,y:E.y};else if(!this._cache.event){var $=O.Position.getAbsoluteOffset(this.element);this._cache.event={x:$.left,y:$.top}}D=null}else E.x||E.y?(this._cache.event={x:E.x,y:E.y},D=null):D=C}else D=this.target;O.Position.set(this,this.options.hook.tooltip,D,this.options.hook.target);if(C&&O.Position.isPointerEvent(C)){var B={width:Z(this.container).outerWidth(),height:Z(this.container).outerHeight()},A=N.pointer(C),$=N.element.cumulativeOffset(this.container);A.x>=$.left&&A.x<=$.left+B.width&&A.y>=$.top&&A.y<=$.top+B.height&&N.defer(Z.proxy(function(){this.clearTimer("hide")},this))}};return{build:h,_preBuild:g,_buildSkin:c,createPreBuildObservers:B,createPostBuildObservers:A,show:a,hide:E,_hide:C,toggle:S,visible:L,showDelayed:f,hideDelayed:b,setFadeDuration:$,setState:J,getState:d,setActive:H,setIdle:F,getTimer:j,setTimer:Q,clearTimer:I,clearTimers:V,setEvent:X,clearEvents:P,setHookPositionAndStemCorrection:D,setHookPosition:W,resetHookPosition:G,refresh:K,update:k,ajaxUpdate:i,insertSpinner:U,position:_,raise:e,_restoreInlineContent:l,remove:Y}}()),Tipped.init()})(jQuery)